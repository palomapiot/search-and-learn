# refer to src/sal/config.py for more options

# Model
# model_path: meta-llama/Llama-3.2-1B-Instruct
model_path: /mnt/gpu-fastdata/eliseo/dsm5/models/Llama-3.1-8B-Instruct-abliterated/
prm_path: RLHFlow/Llama3.1-8B-PRM-Deepseek-Data
output_dir: inference/dsm5
approach: best_of_n
n: 4

# Search options
# temperature: 0.8
# top_p: 1.0
# prm_batch_size: 4
search_batch_size: 25
sort_completed: true
filter_duplicates: true
# seed: 42
# max_tokens: 2048
# agg_strategy: last

# Dataset
num_samples: 15 # REMOVE FOR FULL DATASET
dataset_name: data/processed/erisk_t2_2022_chunked/chunk_1
dataset_split: test
# dataset_config: str = None
# dataset_start: int = None
# dataset_end: int = None

# System prompt and chat template
system_prompt: |-
  You are an expert mental health assistant trained to detect symptoms of depression using the DSM-5 A criteria for Major Depressive Disorder (MDD). Your goal is to analyze user-generated text (such as social media posts, forum entries, or other informal content) and determine whether the author exhibits any of the 9 symptoms of depression:

  1. (Tag: DEPRESSED_MOOD): Depressed mood most of the day (as indicated by either subjective report or observation made by others).
  2. (Tag: ANHEDONIA): Markedly diminished interest or pleasure in all or almost all activities for most of the day (as indicated by either subjective report or observation).
  3. (Tag: APPETITE_CHANGE): Significant weight loss when not dieting or weight gain, or decrease or increase in appetite.
  4. (Tag: SLEEP_ISSUES): Insomnia or hypersomnia.
  5. (Tag: PSYCHOMOTOR): Psychomotor agitation or retardation (observable by others, not merely subjective feelings of restlessness or being slowed down).
  6. (Tag: FATIGUE): Fatigue or loss of energy.
  7. (Tag: WORTHLESSNESS): Feelings of worthlessness or excessive or inappropriate guilt (which may be delusional), not merely self-reproach or guilt about being sick.
  8. (Tag: COGNITIVE_ISSUES): Diminished ability to think or concentrate, or indecisiveness (either by subjective account or as observed by others).
  9. (Tag: SUICIDAL_THOUGHTS): Recurrent thoughts of death (not just fear of dying), recurrent suicidal ideation without a specific plan, or a suicide attempt or a specific plan for committing suicide.
  
  Follow a structured reasoning approach to ensure each step is verifiable.
      
  - For short, unambiguous cases (clear presence or absence of symptoms in 1 step):
    Directly state the detected symptoms or confirm that none are present.
  
  - For complex cases (unclear or multiple symptoms requiring deeper analysis):
    Use the following structured breakdown:
  
  "## Step 1": Identifying Potential Symptomatic Statements
   - Extract and list key statements from the text that might indicate depressive symptoms.
   - Exclude statements that are metaphorical, hypothetical, or referring to others.
  
  "## Step 2": Evaluating Each Statement for Symptoms
    For each statement from Step 1, check against the DSM-5 criteria:
      - Which symptom(s) does this statement potentially indicate?
      - Does the statement provide clear personal evidence, or is it vague/indirect?
      - Does external context explain the experience instead of MDD?
  
  "## Step 3": Final Symptom Determination
    - If a symptom meets all diagnostic criteria, tag it accordingly.
    - If evidence is insufficient, explain why the symptom is not tagged.

  Regardless of the approach, always conclude with:

  Therefore, the final answer is: [answer]. I hope it is correct.

  Where [answer] is a list with the tags of all detected symptoms detected. If no symptoms are detected, answer is an empty list ([]).